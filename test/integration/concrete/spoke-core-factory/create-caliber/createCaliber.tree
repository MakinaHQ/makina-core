createCaliber.t.sol
├── when caller does not have the relevant role
│  └── it should revert with AccessManagedUnauthorized
└── when caller has the relevant role
   ├── when the provided salt is zero
   │  └── it should revert with ZeroSalt
   └── when the provided salt is not zero
      ├── when the provided salt is already used
      │  └── it should revert with TargetAlreadyExists
      └── when the provided salt is not already used
         ├── given the create3 proxy deployment fails
         │  └── it should revert with Create3ProxyDeploymentFailed
         └── given the create3 proxy deployment succeeds
            ├── given the caliber deployment fails
            │  └── it should revert with Create3ContractDeploymentFailed
            └── given the caliber deployment succeeds
               ├── when the setupAMFunctionRoles flag is set to true
               │  ├── when the provided authority is not equal to current factory authority
               │  │  └── it should revert with Create3ContractDeploymentFailed
               │  └── when the provided authority is equal to current factory authority
               │     ├── it should deploy a caliber instance, along with a caliber mailbox instance, and initialize them with provided parameters
               │     ├── it should assign the relevant roles to restricted functions on applicable instances
               │     ├── it should emit a CaliberCreated event
               │     └── it should emit a CaliberMailboxCreated event
               └── when the setupAMFunctionRoles flag is set to false
                  ├── it should deploy a caliber instance, along with a caliber mailbox instance, and initialize them with provided parameters
                  ├── it should emit a CaliberCreated event
                  └── it should emit a CaliberMailboxCreated event
