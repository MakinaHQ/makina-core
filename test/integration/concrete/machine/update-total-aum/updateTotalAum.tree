updateTotalAum.t.sol
├── when call is reentrant
│  └── it should revert with ReentrancyGuardReentrantCall
└── when call is not reentrant
   ├── when caller is not authorized to perform accounting operations
   │  └── it should revert with UnauthorizedCaller
   └── when caller is authorized to perform accounting operations
      ├── given one of the calibers accounting is stale
      │  └── it should revert with CaliberAccountingStale
      └── given none of the calibers accounting is stale
         ├── given some transfers appear as received by the machine but not sent by the corresponding caliber
         │  └── it should revert with BridgeStateMismatch
         └── given no transfer appears as received by the machine but not sent by the corresponding caliber
            ├── given some transfers appear as received by a caliber but not sent by the machine
            │  └── it should revert with BridgeStateMismatch
            └── given no transfer appears as as received by a caliber but not sent by the machine
               ├── given the maximum allowed share price change is exceeded and caller is not the Security Council
               │  └── it should revert with MaxAuthorizedPriceChangeExceeded
               └── given the maximum allowed share price change is not exceeded or caller is the Security Council
                  ├── it should sum up the last reported aum from each caliber plus all the notified idle token balances held by the machine, and store result as last reported total AUM
                  ├── it should store the update timestamp
                  ├── it should emit a TotalAumUpdated event
                  ├── it should mint relevant fees
                  └── it should emit a FeesMinted event
